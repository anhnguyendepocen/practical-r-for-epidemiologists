<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Practical R for Epidemiologists</title>
  <meta name="description" content="This guide is intended as a practical introduction to using the R environment for data analysis and graphics to work with epidemiological data. Topics covered include univariate statistics, simple statistical inference, charting data, two-by-two tables, stratified analysis, chi-square test for trend, logistic regression, survival analysis, computer-intensive methods, and extending R using user-provided functions. You should be able to follow the material if you are reasonably familiar with the mechanics of statistical estimation (e.g. calculation of odds ratios and confidence intervals) and require a system that can perform simple or complex analyses to your exact specifications. If you are interested in a system that is flexible, can be tailored to produce exactly the analysis you want, provides modern analytical facilities, and have a basic understanding of the mechanics of hypothesis testing and estimation then you should consider purchasing this book.">
  <meta name="generator" content="bookdown 0.7.1 and GitBook 2.6.7">

  <meta property="og:title" content="Practical R for Epidemiologists" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This guide is intended as a practical introduction to using the R environment for data analysis and graphics to work with epidemiological data. Topics covered include univariate statistics, simple statistical inference, charting data, two-by-two tables, stratified analysis, chi-square test for trend, logistic regression, survival analysis, computer-intensive methods, and extending R using user-provided functions. You should be able to follow the material if you are reasonably familiar with the mechanics of statistical estimation (e.g. calculation of odds ratios and confidence intervals) and require a system that can perform simple or complex analyses to your exact specifications. If you are interested in a system that is flexible, can be tailored to produce exactly the analysis you want, provides modern analytical facilities, and have a basic understanding of the mechanics of hypothesis testing and estimation then you should consider purchasing this book." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Practical R for Epidemiologists" />
  
  <meta name="twitter:description" content="This guide is intended as a practical introduction to using the R environment for data analysis and graphics to work with epidemiological data. Topics covered include univariate statistics, simple statistical inference, charting data, two-by-two tables, stratified analysis, chi-square test for trend, logistic regression, survival analysis, computer-intensive methods, and extending R using user-provided functions. You should be able to follow the material if you are reasonably familiar with the mechanics of statistical estimation (e.g. calculation of odds ratios and confidence intervals) and require a system that can perform simple or complex analyses to your exact specifications. If you are interested in a system that is flexible, can be tailored to produce exactly the analysis you want, provides modern analytical facilities, and have a basic understanding of the mechanics of hypothesis testing and estimation then you should consider purchasing this book." />
  

<meta name="author" content="Mark Myatt">


<meta name="date" content="2018-04-21">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="exercise1.html">

<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
a.sourceLine { display: inline-block; min-height: 1.25em; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; }
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: absolute; left: -5em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
pre, code { background-color: #f8f8f8; }
@media screen {
a.sourceLine::before { text-decoration: underline; color: initial; }
}
code span.kw { color: #204a87; font-weight: bold; } /* Keyword */
code span.dt { color: #204a87; } /* DataType */
code span.dv { color: #0000cf; } /* DecVal */
code span.bn { color: #0000cf; } /* BaseN */
code span.fl { color: #0000cf; } /* Float */
code span.ch { color: #4e9a06; } /* Char */
code span.st { color: #4e9a06; } /* String */
code span.co { color: #8f5902; font-style: italic; } /* Comment */
code span.ot { color: #8f5902; } /* Other */
code span.al { color: #ef2929; } /* Alert */
code span.fu { color: #000000; } /* Function */
code span.er { color: #a40000; font-weight: bold; } /* Error */
code span.wa { color: #8f5902; font-weight: bold; font-style: italic; } /* Warning */
code span.cn { color: #000000; } /* Constant */
code span.sc { color: #000000; } /* SpecialChar */
code span.vs { color: #4e9a06; } /* VerbatimString */
code span.ss { color: #4e9a06; } /* SpecialString */
code span.im { } /* Import */
code span.va { color: #000000; } /* Variable */
code span.cf { color: #204a87; font-weight: bold; } /* ControlFlow */
code span.op { color: #ce5c00; font-weight: bold; } /* Operator */
code span.pp { color: #8f5902; font-style: italic; } /* Preprocessor */
code span.ex { } /* Extension */
code span.at { color: #c4a000; } /* Attribute */
code span.do { color: #8f5902; font-weight: bold; font-style: italic; } /* Documentation */
code span.an { color: #8f5902; font-weight: bold; font-style: italic; } /* Annotation */
code span.cv { color: #8f5902; font-weight: bold; font-style: italic; } /* CommentVar */
code span.in { color: #8f5902; font-weight: bold; font-style: italic; } /* Information */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Practical R for Epidemiologists</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a><ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#introducing-r"><i class="fa fa-check"></i><b>1.1</b> Introducing R</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#retrieving-data"><i class="fa fa-check"></i><b>1.2</b> Retrieving data</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="exercise1.html"><a href="exercise1.html"><i class="fa fa-check"></i><b>2</b> Getting acquainted with R</a><ul>
<li class="chapter" data-level="2.1" data-path="exercise1.html"><a href="exercise1.html#summary"><i class="fa fa-check"></i><b>2.1</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="exercise2.html"><a href="exercise2.html"><i class="fa fa-check"></i><b>3</b> Manipulating objects and creating new functions</a></li>
<li class="divider"></li>
<li>&nbsp; &nbsp; @ Mark Myatt 2018</li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Practical R for Epidemiologists</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="exercise2" class="section level1">
<h1><span class="header-section-number">3</span> Manipulating objects and creating new functions</h1>
<p>In this exercise we will explore how to manipulate <code>R</code> objects and how to write functions that can manipulate and extract data and information from <code>R</code> objects and produce useful analyses.</p>
<p>Before we go any further we should start <code>R</code> and retrieve a dataset:</p>
<pre class="sourceCode r" id="cb141"><code class="sourceCode r"><a class="sourceLine" id="cb141-1" data-line-number="1">salex &lt;-<span class="st"> </span><span class="kw">read.table</span>(<span class="st">&quot;salex.dat&quot;</span>, <span class="dt">header =</span> <span class="ot">TRUE</span>, <span class="dt">na.strings =</span> <span class="st">&quot;9&quot;</span>)</a></code></pre>
<p>Missing values are coded as 9 throughout this dataset so we can use the <code>na.strings</code> parameter of the <code>read.table()</code> function to replace all 9’s with the special <code>NA</code> code when we retrieve the dataset. Check that this works by examining the <code>salex</code> data.frame:</p>
<pre class="sourceCode r" id="cb142"><code class="sourceCode r"><a class="sourceLine" id="cb142-1" data-line-number="1">salex</a></code></pre>
<pre><code>##    ILL HAM BEEF EGGS MUSHROOM PEPPER PORKPIE PASTA RICE LETTUCE TOMATO
## 1    1   1    1    1        1      1       2     2    2       2      2
## 2    1   1    1    1        2      2       1     2    2       2      1
## 3    1   1    1    1        1      1       1     1    1       1      2
## 4    1   1    1    1        2      2       2     2    2       1      1
## 5    1   1    1    1        1      1       1     1    1       1      1
## 6    1   1    1    1        2      2       2     2    2       2      1
## 7    1   1    1    1        1      1       1     2    2       2      2
## 8    1   1    2    1        1      1       2     1    1       1      2
## 9    1   1    1    1        2      1       1     2    1       2      2
## 10   1   1    1    1        2      1       1     1    1       1      1
## 11   1   2    2    1        1      1       2     2    2       1      1
## 12   1   1    1    1        2      2       2     2    2       2      2
## 13   2   2    1    2        2      2       1     2    2       2      1
## 14   1   1    1    1        2      2       2     1    1       2      1
## 15   1   1    1    1        1      1       2     1    1       2      2
## 16   1   1    1    1        1      1       1     2    2       2      2
## 17   1   1    1    1        1      1       1     1    1       1      1
## 18   2   1    1    2        2      2       2     2    2       2      2
## 19   2   1    1    1        1      2       2     1    1       2      1
## 20   2   1    1    2        2      2       2     2    2       2      2
## 21   2   2    2    2        2      2       2     2    2       2      2
## 22   1   1    1    1        2      2       2     2    2       1      1
## 23   1   2    1    2        2      2       2     1    1       2      1
## 24   1   1    1    1        2      1       2     1    1       2      2
## 25   1   1    1    2        1      1       1     1    1       1      1
## 26   1   1    2    1        1      1       2     2    2       1      1
## 27   1   1    1    1        2      2       1     2    1       1      1
## 28   1   1    1    1        1      1       2     1    1       2      2
## 29   1   2    1    1        1     NA       2     1    1       1      1
## 30   1   1    1    2        2      2       1     2    2       2      2
## 31   1   1    1    1        1      2       2     1    1       2      2
## 32   1   1    1    1        1      2      NA     2    1       1      1
## 33   1   1    1    1        2      2       2     1    2       2      2
## 34   1   1    1    1        1      2       2     2    2       1      1
## 35   1   1    1    1        1      1       1     1    2       2      1
## 36   2   2    1    2        2      2       2     2    2       2      2
## 37   1   1    1    1        1      1       2     1    1       1      1
## 38   1   1    1    2        2      2       1     1    1       1      2
## 39   1   1    1    1        1      1       1     2    2       1      2
## 40   1   1    1    1        1      1       1     2    2       1      1
## 41   1   1    1    2        2      1       2     1    1       1      1
## 42   1   1    1    2        2      2       2     2    2       2      2
## 43   1   1    1    1        1      1       2     1    1       1      1
## 44   1   2    1    2        2      2       1     2    2       1      2
## 45   1   1    1    1        1      2       2     2    1       1      1
## 46   1   1    1    2        2      2       2     1    1       1      1
## 47   1   1    1    1        2      2       2     2    1       1      2
## 48   1   1    1    1        1     NA       1     1    1       2      2
## 49   1   1    1    1        2      1       2     2    1       1      1
## 50   1   2    1    1        2      2       2     1    2       2      1
## 51   2   2    1    2        2      2       2     2    2       2      2
## 52   2   1    1    2        2      2       2     1    2       2      1
## 53   2   1    1    2        2      2       1     2    2       2      1
## 54   2   1    1    2        1      2       1     2    2       2      1
## 55   2   1    1    1        1      1       2     2    1       2      2
## 56   2   1    1    2        2      2       2     2    2       2      1
## 57   2   1    1    1        1      1       1     2    2       2      2
## 58   2   1    1    1        2      2       1     2    1       2      2
## 59   2   1    1    2        2      2       2     2    2       2      2
## 60   2   2    2    2        2      2       1     2    2       2      2
## 61   2   1    1    2        2      2       1     2    2       2      2
## 62   2   1    2    2        2      2       2     2    2       1      1
## 63   1   1    1    1        1      1       2     2    2       2      1
## 64   2   1    1    2        2      2       2     2    2       2      2
## 65   2   1    1    1        1      2       1     2    1       2      2
## 66   2   2    1    2        2      2       2     2    2       2      2
## 67   2   2    1    2        2      2       2     2    2       2      2
## 68   2   1    1    2        1      1       1     1    2       2      1
## 69   2   2    1    2        2      2       2     2    2       2      2
## 70   2   2    1    2        2      2       2     2    2       2      2
## 71   1   1    2    2        2      2       1     2    1       2      2
## 72   2   1    2    1       NA     NA       2     2    2       2      1
## 73   1   1    1    1        2      2       1     2    2       2      2
## 74   1   1    2    1       NA     NA       2     1    1       1      1
## 75   1   1    2    2        2      1       2     1    2       1      1
## 76   1   1    1    1        2      2       1     1    2       2      2
## 77   1   1    1   NA       NA     NA       1     2    1       1      1
##    COLESLAW CRISPS PEACHCAKE CHOCOLATE FRUIT TRIFLE ALMONDS
## 1         2      2         2         2     2      2       2
## 2         2      2         2         2     2      2       2
## 3         2      1         2         1     2      2       2
## 4         2      2         2         1     2      2       2
## 5         1      2         2         1     2      1       2
## 6         1      1         2         1     2      2       2
## 7         1      1         1         2     2      2       2
## 8         1      1         2         2     2      1       2
## 9         2      2         2         2     2      1       2
## 10        1      1         2         2     2      1       1
## 11        2      2         2         2     2      2      NA
## 12        2      1         2         1     2      2       2
## 13        2      1         2         2     1      2      NA
## 14        1      1         2         2     2      1       2
## 15        1      1         2         2     2      1       1
## 16        1      2         2         2     2      2       2
## 17        1      2         2         2     2      2       2
## 18        2      2         2         2     2      2       2
## 19        1      1         2         2     1      2       2
## 20        2      2         2         1     2      2       2
## 21        2      2         2         2     2      2       2
## 22        2      1         2         1     2      2       2
## 23        1      2         2         2     2      2      NA
## 24        1      1         2         2     2      1       2
## 25        1      2         2         2     2      1      NA
## 26        1      2         2         2     2      1       2
## 27        1      1         1         1     2      1       2
## 28        2      1         2         2     2      2      NA
## 29        1      1         2         2     2      2      NA
## 30        2      2         2         2     2      2       2
## 31        2      2         2         2     2      2       2
## 32        2      2         2         2     2      2       2
## 33        1      2         2         2     2      2       2
## 34        1      2         2         2     2      1       2
## 35        1      2         2         2     2      1       2
## 36        2      2         2         2     2      2      NA
## 37        1      1         2         1     2      1       2
## 38        2      2         2         2     2      2       2
## 39        2      2         2         1     2      2       2
## 40        1      2         2         2     2      2       2
## 41        1      1         2         2    NA      1      NA
## 42        2      2         2         2     2      2      NA
## 43        1      1         2         2     2      2      NA
## 44        2      2         2         2     2      2       2
## 45        1      2         2         2     2      1       2
## 46        1      2         2         2     2      1       2
## 47        2      2         2        NA     2      1       2
## 48        2      1         2         2     2      2       2
## 49        1      1         2         2     2      1       2
## 50       NA      2         2         1     2      1       1
## 51        2      2         2         2     2      2      NA
## 52        2      2         2         1     2      2       1
## 53        2      2         2         2     1      2       2
## 54        2      2         2         2     2      2       2
## 55        2      1         2         2     2      2       2
## 56        2      2         2         2     1      2       2
## 57        1      2         2         2     2      2       1
## 58        2      1         1         2     2      2       2
## 59        2      1         1         2     2      1       2
## 60        2      2         2         2     2      2       2
## 61        2      1         2         2     2      1       1
## 62        2      1         2         2     2      2       2
## 63        1      2         2         1     1      2       2
## 64        2      2         2         2     2      2       2
## 65        1      1         2         2     2      1       2
## 66        2      2         2         2     2      1      NA
## 67        2      1         2         2     2      2       2
## 68        2      2         2         2     2      2       2
## 69        2      1         2         2     2      2       2
## 70        2      2         2         2     2      2       2
## 71        2      2         2         2     2      2       2
## 72        2      2         2         2     2      1       2
## 73        2      2         2         2     2      2       2
## 74        1      1         2         1     2      2       2
## 75        1      1         2         2     2      2      NA
## 76        2      2         2         2     2      2      NA
## 77        1      1         2         2     2      2       2</code></pre>
<pre class="sourceCode r" id="cb144"><code class="sourceCode r"><a class="sourceLine" id="cb144-1" data-line-number="1"><span class="kw">names</span>(salex)</a></code></pre>
<pre><code>##  [1] &quot;ILL&quot;       &quot;HAM&quot;       &quot;BEEF&quot;      &quot;EGGS&quot;      &quot;MUSHROOM&quot; 
##  [6] &quot;PEPPER&quot;    &quot;PORKPIE&quot;   &quot;PASTA&quot;     &quot;RICE&quot;      &quot;LETTUCE&quot;  
## [11] &quot;TOMATO&quot;    &quot;COLESLAW&quot;  &quot;CRISPS&quot;    &quot;PEACHCAKE&quot; &quot;CHOCOLATE&quot;
## [16] &quot;FRUIT&quot;     &quot;TRIFLE&quot;    &quot;ALMONDS&quot;</code></pre>
<p>This data comes from a food-borne outbreak. On Saturday 17th October 1992, eighty-two people attended a buffet meal at a sports club. Within fourteen to twenty-four hours, fifty-one of the participants developed diarrhoea, with nausea, vomiting, abdominal pain and fever.</p>
<p>The columns in the dataset are as follows:</p>
<table style="width:54%;">
<colgroup>
<col width="22%" />
<col width="31%" />
</colgroup>
<tbody>
<tr class="odd">
<td><strong>ILL</strong></td>
<td>Ill or not-ill</td>
</tr>
<tr class="even">
<td><strong>HAM</strong></td>
<td>Baked ham</td>
</tr>
<tr class="odd">
<td><strong>BEEF</strong></td>
<td>Roast beef</td>
</tr>
<tr class="even">
<td><strong>EGGS</strong></td>
<td>Eggs</td>
</tr>
<tr class="odd">
<td><strong>MUSHROOM</strong></td>
<td>Mushroom flan</td>
</tr>
<tr class="even">
<td><strong>PEPPER</strong></td>
<td>Pepper flan</td>
</tr>
<tr class="odd">
<td><strong>PORKPIE</strong></td>
<td>Pork pie</td>
</tr>
<tr class="even">
<td><strong>PASTA</strong></td>
<td>Pasta salad</td>
</tr>
<tr class="odd">
<td><strong>RICE</strong></td>
<td>Rice salad</td>
</tr>
<tr class="even">
<td><strong>LETTUCE</strong></td>
<td>Lettuce</td>
</tr>
<tr class="odd">
<td><strong>TOMATO</strong></td>
<td>Tomato salad</td>
</tr>
<tr class="even">
<td><strong>COLESLAW</strong></td>
<td>Coleslaw</td>
</tr>
<tr class="odd">
<td><strong>CRISPS</strong></td>
<td>Crisps</td>
</tr>
<tr class="even">
<td><strong>PEACHCAKE</strong></td>
<td>Peach cake</td>
</tr>
<tr class="odd">
<td><strong>CHOCOLATE</strong></td>
<td>Chocolate cake</td>
</tr>
<tr class="even">
<td><strong>FRUIT</strong></td>
<td>Tropical fruit salad</td>
</tr>
<tr class="odd">
<td><strong>TRIFLE</strong></td>
<td>Trifle</td>
</tr>
<tr class="even">
<td><strong>ALMONDS</strong></td>
<td>Almonds</td>
</tr>
</tbody>
</table>
<p>Data is available for seventy-seven of the eighty-two people who attended the sports club buffet. All of the variables are coded 1=yes, 2=no.</p>
<p>We can use the <code>attach()</code> function to make it easier to access our data:</p>
<pre class="sourceCode r" id="cb146"><code class="sourceCode r"><a class="sourceLine" id="cb146-1" data-line-number="1"><span class="kw">attach</span>(salex)</a></code></pre>
<p>The two-by-two table is a basic epidemiological tool. In analysing data from a food-borne outbreak collected as a retrospective cohort study, for example, we would tabulate each exposure (suspect foodstuffs) against the outcome (illness) and calculate risk ratios and confidence intervals. <code>R</code> has no explicit function to calculate risk ratios from two-by-two tables but we can easily write one ourselves.</p>
<p>The first step in writing such a function would be to create the two-by-two table. This can be done with the <code>table()</code> function. We will use a table of <code>HAM</code> by <code>ILL</code> as an illustration:</p>
<pre class="sourceCode r" id="cb147"><code class="sourceCode r"><a class="sourceLine" id="cb147-1" data-line-number="1"><span class="kw">table</span>(HAM, ILL)</a></code></pre>
<p>This command produces the following output:</p>
<pre><code>##    ILL
## HAM  1  2
##   1 46 17
##   2  5  9</code></pre>
<p>We can manipulate the output directly but it is easier if we instruct <code>R</code> to save the output of the <code>table()</code> function in an object:</p>
<pre class="sourceCode r" id="cb149"><code class="sourceCode r"><a class="sourceLine" id="cb149-1" data-line-number="1">tab &lt;-<span class="st"> </span><span class="kw">table</span>(HAM, ILL)</a></code></pre>
<p>The <code>tab</code> object contains the output of the <code>table()</code> function:</p>
<pre class="sourceCode r" id="cb150"><code class="sourceCode r"><a class="sourceLine" id="cb150-1" data-line-number="1">tab</a></code></pre>
<pre><code>##    ILL
## HAM  1  2
##   1 46 17
##   2  5  9</code></pre>
<p>As it is stored in an object we can examine its contents on an item by item basis.</p>
<p>The <code>tab</code> object is an object of class <code>table</code>:</p>
<pre class="sourceCode r" id="cb152"><code class="sourceCode r"><a class="sourceLine" id="cb152-1" data-line-number="1"><span class="kw">class</span>(tab)</a></code></pre>
<pre><code>## [1] &quot;table&quot;</code></pre>
<p>We can extract data from a table object by using indices or row and column co-ordinates:</p>
<pre class="sourceCode r" id="cb154"><code class="sourceCode r"><a class="sourceLine" id="cb154-1" data-line-number="1">tab[<span class="dv">1</span>,<span class="dv">1</span>]</a></code></pre>
<pre><code>## [1] 46</code></pre>
<pre class="sourceCode r" id="cb156"><code class="sourceCode r"><a class="sourceLine" id="cb156-1" data-line-number="1">tab[<span class="dv">1</span>,<span class="dv">2</span>]</a></code></pre>
<pre><code>## [1] 17</code></pre>
<pre class="sourceCode r" id="cb158"><code class="sourceCode r"><a class="sourceLine" id="cb158-1" data-line-number="1">tab[<span class="dv">2</span>,<span class="dv">1</span>]</a></code></pre>
<pre><code>## [1] 5</code></pre>
<p>The numbers in the square brackets refer to the <strong><em>position</em></strong> (as row and column co-ordinates) of the data item in the table <strong><em>not</em></strong> the <strong><em>values</em></strong> of the variables. We can extract data using the values of the row and column variables by enclosing the index values in double quotes (“). For example:</p>
<pre class="sourceCode r" id="cb160"><code class="sourceCode r"><a class="sourceLine" id="cb160-1" data-line-number="1">tab[<span class="st">&quot;1&quot;</span>,<span class="st">&quot;1&quot;</span>]</a></code></pre>
<pre><code>## [1] 46</code></pre>
<p>The two methods of extracting data may be combined. For example:</p>
<pre class="sourceCode r" id="cb162"><code class="sourceCode r"><a class="sourceLine" id="cb162-1" data-line-number="1">tab[<span class="dv">1</span>,<span class="st">&quot;1&quot;</span>]</a></code></pre>
<pre><code>## [1] 46</code></pre>
<p>We can calculate a risk ratio using the extracted data:</p>
<pre class="sourceCode r" id="cb164"><code class="sourceCode r"><a class="sourceLine" id="cb164-1" data-line-number="1">(tab[<span class="dv">1</span>,<span class="dv">1</span>]<span class="op">/</span>(tab[<span class="dv">1</span>,<span class="dv">1</span>]<span class="op">+</span>tab[<span class="dv">1</span>,<span class="dv">2</span>]))<span class="op">/</span>(tab[<span class="dv">2</span>,<span class="dv">1</span>]<span class="op">/</span>(tab[<span class="dv">2</span>,<span class="dv">1</span>]<span class="op">+</span>tab[<span class="dv">2</span>,<span class="dv">2</span>]))</a></code></pre>
<p>Which returns a risk ratio of</p>
<pre><code>## [1] 2.044444</code></pre>
<p>This is a tedious calculation to have to type in every time you need to calculate a risk ratio from a two-by-two table. It would be better to have a function that calculates and displays the risk ratio automatically. Fortunately, <code>R</code> allows us to do just that.</p>

</div>
            </section>

          </div>
        </div>
      </div>
<a href="exercise1.html" class="navigation navigation-prev navigation-unique" aria-label="Previous page"><i class="fa fa-angle-left"></i></a>

    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"download": ["prfe.pdf", "prfe.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
